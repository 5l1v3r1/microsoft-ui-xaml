<!-- Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT License. See LICENSE in the project root for license information. -->
<local:TestPage
    x:Class="MUXControlsTestApp.NumberBoxPage"
    x:Name="NumberBoxTestPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MUXControlsTestApp"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:contract5Present="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract,5)"
    mc:Ignorable="d">

    <Page.Resources>
        <local:NullableBooleanToBooleanConverter x:Key="BooleanConverter" />
        <local:DoubleToIntConverter x:Key="intconverter" />
        <local:StringToRoundingAlgConverter x:Key="RoundingConverter" />
        <local:DoubleToUIntConverter x:Key="UintConverter" />
        <local:StringToRounderConverter x:Key="RounderConverter"/>
        <local:StringToValidationModeConverter x:Key="ValidationConverter" />
    </Page.Resources>

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <StackPanel Orientation="Vertical" contract5Present:Spacing="5" Background="{ThemeResource SystemControlBackgroundBaseLowBrush}" Padding="12">

            <ComboBox x:Name="ValidationComboBox" AutomationProperties.Name="ValidationComboBox" Header="Validation Mode (WIP)" SelectedValue="TextBlockMessage">
                <x:String>TextBlockMessage</x:String>
                <x:String>IconMessage</x:String>
                <x:String>InvalidInputOverwritten</x:String>
                <x:String>Disabled</x:String>
            </ComboBox>

            <CheckBox x:Name="CalculationCheckBox" AutomationProperties.Name="CalculationCheckBox" IsChecked="False" Content="AcceptsCalculations"/>

            <!-- ### why is this not just a bool SpinButtonsVisible or something like that?? -->
            <ComboBox x:Name="SpinModeComboBox" AutomationProperties.Name="SpinModeComboBox"
                SelectedValue="Hidden"
                SelectionChanged="SpinMode_Changed"
                Header="SpinButtonMode">
                <x:String>Hidden</x:String>
                <x:String>Inline</x:String>
            </ComboBox>

            <CheckBox x:Name="HyperScrollCheckBox" AutomationProperties.Name="HyperScrollCheckBox"
                IsChecked="False"
                Content="HyperScroll Enabled"
                Checked="HyperScroll_Checked"
                Unchecked="HyperScroll_Checked"/>

            <CheckBox x:Name="WrapCheckBox" AutomationProperties.Name="WrapCheckBox"
                IsChecked="False"
                Content="Wrap Enabled"
                Checked="Wrap_CheckChanged"
                Unchecked="Wrap_CheckChanged"/>

            <controls:NumberBox x:Name="StepNumberBox" AutomationProperties.Name="StepNumberBox" Value="1" Header="SmallChange"/>

            <StackPanel Orientation="Horizontal">
                <CheckBox x:Name="MinCheckBox" AutomationProperties.Name="MinCheckBox" IsChecked="False" Checked="MinCheckBox_CheckChanged" Unchecked="MinCheckBox_CheckChanged" MinWidth="32" VerticalAlignment="Bottom"/>
                <controls:NumberBox x:Name="MinNumberBox" AutomationProperties.Name="MinNumberBox" Header="Minimum" Value="0" IsEnabled="False" ValueChanged="MinValueChanged"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal">
                <CheckBox x:Name="MaxCheckBox" AutomationProperties.Name="MaxCheckBox" IsChecked="False" Checked="MaxCheckBox_CheckChanged" Unchecked="MaxCheckBox_CheckChanged" MinWidth="32" VerticalAlignment="Bottom"/>
                <controls:NumberBox x:Name="MaxNumberBox" AutomationProperties.Name="MaxNumberBox" Header="Maximum" Value="100" IsEnabled="False" ValueChanged="MaxValueChanged"/>
            </StackPanel>

            <controls:NumberBox x:Name="frac" Value="0" Header="Fraction Digits"/>

            <controls:NumberBox x:Name="intdig" Value="1" Header="Integer Digits" />

            <controls:NumberBox x:Name="sigdig" Header="Significant Digits"/>

            <CheckBox x:Name="dec" Content="IsDecimalPointAlwaysDisplayed" />

            <CheckBox x:Name="zerosign" Content="IsZeroSigned" />

            <ComboBox Header="Number Rounder Type" x:Name="rounder" PlaceholderText="NumberRounder" SelectedValue="None" >
                <x:String>IncrementNumberRounder</x:String>
                <x:String>SignificantDigitsNumberRounder</x:String>
                <x:String>None</x:String>
            </ComboBox>

            <ComboBox x:Name="algo" Header="Rounding Algorithm" SelectedValue="RoundAwayFromZero" >
                <x:String>None</x:String>
                <x:String>RoundAwayFromZero</x:String>
                <x:String>RoundDown</x:String>
                <x:String>RoundHalfAwayFromZero</x:String>
                <x:String>RoundHalfDown</x:String>
                <x:String>RoundHalfToEven</x:String>
                <x:String>RoundHalfToOdd</x:String>
                <x:String>RoundHalfTowardsZero</x:String>
                <x:String>RoundHalfUp</x:String>
                <x:String>RoundTowardsZero</x:String>
                <x:String>RoundUp</x:String>
            </ComboBox>

            <controls:NumberBox x:Name="increment" RelativePanel.Below="algo" Value="1" Header="Increment Precision"/>

            <controls:NumberBox x:Name="sigprec" RelativePanel.Below="increment" Value="1" Header="SignificantDigitPrecision"/>
        </StackPanel>

        <Grid Grid.Column="1">

            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <!--
                ### need to min/max part of the control first
                Maximum="{x:Bind max.Value, Mode=OneWay}"
                Minimum="{x:Bind min.Value, Mode=OneWay}"
                -->
                <controls:NumberBox
                    x:Name="TestNumberBox"
                    AutomationProperties.Name="TestNumberBox"
                    Header="NumberBox"
                    Value="10"
                    Step="{x:Bind StepNumberBox.Value, Mode=OneWay}"
                    BasicValidationMode="{x:Bind ValidationComboBox.SelectedValue, Converter={StaticResource ValidationConverter}, Mode=OneWay}"
                    FractionDigits="{x:Bind frac.Value, Converter={StaticResource intconverter}, Mode=OneWay}"
                    IntegerDigits="{x:Bind intdig.Value, Converter={StaticResource intconverter}, Mode=OneWay}"
                    SignificantDigits="{x:Bind sigdig.Value, Converter={StaticResource intconverter}, Mode=OneWay}"
                    IsDecimalPointAlwaysDisplayed="{x:Bind dec.IsChecked, Converter={StaticResource BooleanConverter}, Mode=OneWay}"
                    IsZeroSigned="{x:Bind zerosign.IsChecked, Converter={StaticResource BooleanConverter}, Mode=OneWay}"
                    NumberRounder="{x:Bind rounder.SelectedValue, Converter={StaticResource RounderConverter}, Mode=OneWay}"
                    RoundingAlgorithm="{x:Bind algo.SelectedValue, Converter={StaticResource RoundingConverter}, Mode=OneWay}"
                    IncrementPrecision="{x:Bind increment.Value, Mode=OneWay}"
                    SignificantDigitPrecision="{x:Bind sigprec.Value, Converter={StaticResource intconverter}, Mode=OneWay}"
                    AcceptsCalculation="{x:Bind CalculationCheckBox.IsChecked, Converter={StaticResource BooleanConverter}, Mode=OneWay}"/>

                <TextBlock x:Name="valtext" Text="Value: " />

                <TextBlock Text="{x:Bind TestNumberBox.Value, Mode=OneWay}" />
            </StackPanel>
        </Grid>

    </Grid>
</local:TestPage>
